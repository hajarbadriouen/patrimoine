<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gestion Patrimoine</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">

</head>
<body>
    <h1>Gestion Patrimoine</h1>

    <!-- BATIMENT -->
    <h2>Ajouter Batiment</h2>
    <form action="/add_batiment" method="POST">
        <label>Nom:</label><input type="text" name="name" required><br>
        <label>Année:</label><input type="number" name="year" min="1900" max="2100" required><br>
        <label>Etat / Protection:</label><input type="text" name="etat" required><br>
        <label>Latitude:</label><input type="text" name="latitude" required><br>
        <label>Longitude:</label><input type="text" name="longitude" required><br>
        <button type="submit">Ajouter</button>
    </form>

    <h3>Liste des Batiments</h3>
    <table border="1">
        <tr>
            <th>ID</th><th>Nom</th><th>Année</th><th>Etat</th><th>Zone</th><th>Type</th><th>Propriétaire</th>
        </tr>
        {% for b in batiments %}
        <tr>
            <td>{{ b[0] }}</td>
            <td>{{ b[1] }}</td>
            <td>{{ b[2] }}</td>
            <td>{{ b[3] }}</td>
            <td>{{ b[4] }}</td>
            <td>{{ b[5] }}</td>
            <td>{{ b[6] }}</td>
        </tr>
        {% endfor %}
    </table>

    <hr>

    <!-- PRESTATAIRE -->
    <h2>Ajouter Prestataire</h2>
    <form action="/add_prestataire" method="POST">
        <label>Nom:</label><input type="text" name="nom" required><br>
        <label>Type:</label><input type="text" name="type" required><br>
        <label>Contact:</label><input type="text" name="contact"><br>
        <button type="submit">Ajouter</button>
    </form>

    <h3>Liste des Prestataires</h3>
    <table border="1">
        <tr><th>ID</th><th>Nom</th><th>Type</th><th>Contact</th></tr>
        {% for p in prestataires %}
        <tr>
            <td>{{ p[0] }}</td>
            <td>{{ p[1] }}</td>
            <td>{{ p[2] }}</td>
            <td>{{ p[3] }}</td>
        </tr>
        {% endfor %}
    </table>

    <hr>

    <!-- INTERVENTION -->
    <h2>Ajouter Intervention</h2>
    <form action="/add_intervention" method="POST">
        <label>Batiment:</label>
        <select name="batiment">
            {% for b in batiments %}
            <option value="{{ b[0] }}">{{ b[1] }}</option>
            {% endfor %}
        </select><br>
        <label>Prestataire:</label>
        <select name="prestataire">
            {% for p in prestataires %}
            <option value="{{ p[0] }}">{{ p[1] }}</option>
            {% endfor %}
        </select><br>
        <label>Date:</label><input type="date" name="date_travaux" required><br>
        <label>Type travaux:</label><input type="text" name="type_travaux" required><br>
        <label>Coût:</label><input type="number" step="0.01" name="cout"><br>
        <button type="submit">Ajouter</button>
    </form>

    <h3>Liste des Interventions</h3>
    <table border="1">
        <tr><th>ID</th><th>Batiment</th><th>Prestataire</th><th>Date</th><th>Type</th><th>Coût</th></tr>
        {% for i in interventions %}
        <tr>
            <td>{{ i[0] }}</td>
            <td>{{ i[1] }}</td>
            <td>{{ i[2] }}</td>
            <td>{{ i[3] }}</td>
            <td>{{ i[4] }}</td>
            <td>{{ i[5] }}</td>
        </tr>
        {% endfor %}
    </table>

    <hr>

    <!-- INSPECTION -->
    <h2>Ajouter Inspection</h2>
    <form action="/add_inspection" method="POST">
        <label>Batiment:</label>
        <select name="batiment">
            {% for b in batiments %}
            <option value="{{ b[0] }}">{{ b[1] }}</option>
            {% endfor %}
        </select><br>
        <label>Date:</label><input type="date" name="date_inspection" required><br>
        <label>Rapport:</label><textarea name="rapport"></textarea><br>
        <button type="submit">Ajouter</button>
    </form>

    <h3>Liste des Inspections</h3>
    <table border="1">
        <tr><th>ID</th><th>Batiment</th><th>Date</th><th>Rapport</th></tr>
        {% for ins in inspections %}
        <tr>
            <td>{{ ins[0] }}</td>
            <td>{{ ins[1] }}</td>
            <td>{{ ins[2] }}</td>
            <td>{{ ins[3] }}</td>
        </tr>
        {% endfor %}
    </table>

    <hr>

    <!-- DOCUMENT -->
    <h2>Ajouter Document</h2>
    <form action="/add_document" method="POST">
        <label>Batiment:</label>
        <select name="batiment">
            {% for b in batiments %}
            <option value="{{ b[0] }}">{{ b[1] }}</option>
            {% endfor %}
        </select><br>
        <label>Chemin / Nom fichier:</label><input type="text" name="chemin" required><br>
        <label>Type document:</label><input type="text" name="type_doc"><br>
        <button type="submit">Ajouter</button>
    </form>

    <h3>Liste des Documents</h3>
    <table border="1">
        <tr><th>ID</th><th>Batiment</th><th>Chemin</th><th>Type</th></tr>
        {% for d in documents %}
        <tr>
            <td>{{ d[0] }}</td>
            <td>{{ d[1] }}</td>
            <td>{{ d[2] }}</td>
            <td>{{ d[3] }}</td>
        </tr>
        {% endfor %}
    </table>
    <a href="/rapports">Voir les rapports</a>

</body>
</html>
